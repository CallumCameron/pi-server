The files in this folder are for setting up a network of VMs for testing on, using VirtualBox.

Need three host-only networks, appropriately configured with DHCP:
vboxnet0 - 192.168.56.0/24; 'fake internet'
vboxnet1 - 192.168.57.0/24; 'fake LAN 1'
vboxnet2 - 192.168.58.0/24; 'fake LAN 2'

Need 7 VMs:
FakeInternet - Debian, two network interfaces: NAT and vboxnet0
FakeRouter1 - Debian, two network interfaces: vboxnet0 and vboxnet1
FakeRouter2 - Debian, two network interfaces: vboxnet0 and vboxnet2
FakePi1 - Debian, vboxnet1 only; VPN subnet set to 10.0.1.0/24
FakePi2 - Debian, vboxnet2 only; VPN subnet set to 10.0.2.0/24
FakeClient1 - a desktop OS, vboxnet1 only
FakeClient2 - a desktop OS, vboxnet2 only

All but FakeInternet will have no valid internet connection during installation. The Debian installations should be command-line only, with only system tools selected during tasksel.


FakeInternet:
As root: comment out the CD-ROM line in /etc/apt/sources.list, then 'apt-get update; apt-get -y install sudo git; usermod -a -G sudo ${REAL_USER}'
Log back in as the normal user.
Clone this repository, 'cd pi-server/zz-vm-testing'.
./fakeInternet-00-setup.sh
Reboot.


FakeRouter*:
As root: 'ip route add default via ${FakeInternet's addr} dev eth0; echo nameserver 8.8.8.8 > /etc/resolv.conf', then edit /etc/apt/sources.list to match FakeInternet's.
As root: 'apt-get update; apt-get -y install sudo git; usermod -a -G sudo ${REAL_USER}'
Log back in as the normal user.
Clone this repository, 'cd pi-server/zz-vm-testing'.
./fakeRouter-00-setup.sh
Reboot.


FakePi*:
As root: 'ip route add default via ${corresponding FakeRouter's addr} dev eth0; echo nameserver 8.8.8.8 > /etc/resolv.conf', then edit /etc/apt/sources.list to match FakeInternet's.
As root: 'apt-get update; apt-get -y install sudo git; usermod -a -G sudo ${REAL_USER}'
Log back in as the normal user.
Clone this repository, 'cd pi-server/zz-vm-testing'.
./fakePi-00-setup.sh
Reboot.
Set the Pi up normally as per 01-core-owncloud


FakeClient*: assuming use of Mint 17
Edit /etc/network/interfaces to add the following:
'auto eth0
iface eth0 inet dhcp
dns-nameservers 8.8.8.8'
Reboot.
'sudo ip route add default via ${corresponding FakeRouter's addr} dev eth0'
'sudo apt-get update; sudo apt-get -y install git'
Clone this repository, 'cd pi-server/zz-vm-testing'.
./fakeClient-00-setup.sh
Reboot.
